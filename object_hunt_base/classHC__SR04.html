<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Object Hunt Base: HC_SR04 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Object Hunt Base
   &#160;<span id="projectnumber">v0.2</span>
   </div>
   <div id="projectbrief">Provides a hardware interface for the Raspberry Pi.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classHC__SR04-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HC_SR04 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class for the HC-SR04 ultra sonic sensor.  
 <a href="classHC__SR04.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="HC__SR04_8h_source.html">HC_SR04.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a216ba0a65635a1bafeeb222f6310217c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHC__SR04.html#a216ba0a65635a1bafeeb222f6310217c">HC_SR04</a> (std::shared_ptr&lt; <a class="el" href="classGPIO.html">GPIO</a> &gt; gpio, uint8_t device, uint8_t trigger, uint8_t echo)</td></tr>
<tr class="memdesc:a216ba0a65635a1bafeeb222f6310217c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom constructor.  <a href="#a216ba0a65635a1bafeeb222f6310217c">More...</a><br /></td></tr>
<tr class="separator:a216ba0a65635a1bafeeb222f6310217c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb251c04a5966532054eebd8f933f8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHC__SR04.html#aacb251c04a5966532054eebd8f933f8f">HC_SR04</a> (std::shared_ptr&lt; <a class="el" href="classGPIO.html">GPIO</a> &gt; gpio, uint8_t device, uint8_t trigger, uint8_t echo, struct pollfd &amp;&amp;echo_pfd)</td></tr>
<tr class="memdesc:aacb251c04a5966532054eebd8f933f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom constructor.  <a href="#aacb251c04a5966532054eebd8f933f8f">More...</a><br /></td></tr>
<tr class="separator:aacb251c04a5966532054eebd8f933f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af904d0c4624acf1a7e48d888bb4e6b94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHC__SR04.html#af904d0c4624acf1a7e48d888bb4e6b94">~HC_SR04</a> ()</td></tr>
<tr class="memdesc:af904d0c4624acf1a7e48d888bb4e6b94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom destructor.  <a href="#af904d0c4624acf1a7e48d888bb4e6b94">More...</a><br /></td></tr>
<tr class="separator:af904d0c4624acf1a7e48d888bb4e6b94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbe7fa10c4b3113dc56d313454c2e04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHC__SR04.html#a8dbe7fa10c4b3113dc56d313454c2e04">measure</a> (int fd)</td></tr>
<tr class="memdesc:a8dbe7fa10c4b3113dc56d313454c2e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public method to trigger a measurement.  <a href="#a8dbe7fa10c4b3113dc56d313454c2e04">More...</a><br /></td></tr>
<tr class="separator:a8dbe7fa10c4b3113dc56d313454c2e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for the HC-SR04 ultra sonic sensor. </p>
<p>Helps with setting up the sensor and taking measurements. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a216ba0a65635a1bafeeb222f6310217c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a216ba0a65635a1bafeeb222f6310217c">&#9670;&nbsp;</a></span>HC_SR04() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HC_SR04::HC_SR04 </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classGPIO.html">GPIO</a> &gt;&#160;</td>
          <td class="paramname"><em>gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>trigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>echo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom constructor. </p>
<p>Sets up the given pins for trigger and echo on its own. Should be preferred, if only one HC SR04 sensor is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>A shared pointer to a <a class="el" href="classGPIO.html" title="Provides methods to control the RaspberryPi GPIOs. ">GPIO</a> object. </td></tr>
    <tr><td class="paramname">device</td><td>One of the bits defined in UltraSonic::Device to identify this unit. </td></tr>
    <tr><td class="paramname">trigger</td><td>The regarding trigger pin. </td></tr>
    <tr><td class="paramname">echo</td><td>The regarding echo pin. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classHC__SR04Exception.html" title="Exception thrown by the HC_SR04 (ultra sonic sensor) class. ">HC_SR04Exception</a></td><td>in case something went wrong. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aacb251c04a5966532054eebd8f933f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb251c04a5966532054eebd8f933f8f">&#9670;&nbsp;</a></span>HC_SR04() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HC_SR04::HC_SR04 </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classGPIO.html">GPIO</a> &gt;&#160;</td>
          <td class="paramname"><em>gpio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>trigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>echo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pollfd &amp;&amp;&#160;</td>
          <td class="paramname"><em>echo_pfd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom constructor. </p>
<p>Expects an interrupt for the echo pin to be already configured. If multiple HC SR04 sensors are going to be used, this constructor is more time efficient as all echo pins can be configured together before constructing the objects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio</td><td>A shared pointer to a <a class="el" href="classGPIO.html" title="Provides methods to control the RaspberryPi GPIOs. ">GPIO</a> object. </td></tr>
    <tr><td class="paramname">device</td><td>One of the bits defined in UltraSonic::Device to identify this unit. </td></tr>
    <tr><td class="paramname">trigger</td><td>The regarding trigger pin. </td></tr>
    <tr><td class="paramname">echo</td><td>The regarding echo pin. </td></tr>
    <tr><td class="paramname">echo_pfd</td><td>A valid poll file descriptor configured for the echo pin. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classHC__SR04Exception.html" title="Exception thrown by the HC_SR04 (ultra sonic sensor) class. ">HC_SR04Exception</a></td><td>in case something went wrong. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af904d0c4624acf1a7e48d888bb4e6b94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af904d0c4624acf1a7e48d888bb4e6b94">&#9670;&nbsp;</a></span>~HC_SR04()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HC_SR04::~HC_SR04 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom destructor. </p>
<p>Releases the trigger pin and the interrupt driver. Joins the measurer thread before termination. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8dbe7fa10c4b3113dc56d313454c2e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbe7fa10c4b3113dc56d313454c2e04">&#9670;&nbsp;</a></span>measure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HC_SR04::measure </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public method to trigger a measurement. </p>
<p>Will start a measurement as soon as possible. The measurement is conducted by a dedicated thread. The calling thread will return from this function, before the measurement is completed. Sends the measured distance in a struct of type <a class="el" href="structInternalUSResponse.html" title="Defines the internal ultra sonic response. ">InternalUSResponse</a> to the passed file descriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>A valid file descriptor to which the result will be passed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/robert/sciebo/MaTIN/AMS/Object-Hunt/object_hunt_base/include/<a class="el" href="HC__SR04_8h_source.html">HC_SR04.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
